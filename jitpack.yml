install:
  - . ~/.sdkman/bin/sdkman-init.sh
  - sdk install java 21.0.10-oracle
  - sdk use java 21.0.10-oracle
  - export JAVA_HOME=~/.sdkman/candidates/java/current
  - export M3_VERSION=$(curl -Ls -o /dev/null -w %{url_effective} https://github.com/apache/maven/releases/latest | sed 's,https://github.com/apache/maven/releases/tag/maven-,,g')
  - export MVN_DIR="/home/jitpack/tools/apache-maven-${M3_VERSION}"
  - mkdir -p "$MVN_DIR"
  - curl -sL "https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/${M3_VERSION}/apache-maven-${M3_VERSION}-bin.tar.gz" | tar xz --strip-components=1 -C "$MVN_DIR"
  - export PATH="$MVN_DIR/bin:$PATH"
  - mvn -B install -DskipTests -Dsigning.disabled=true --no-transfer-progress
